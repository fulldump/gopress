<html>
<head>
	<title>Demo upload multipart</title>
</head>
<body>

<input id="input_files" type="file" multiple>
<button id="button_upload">Upload</button>


<script>

const fakeHeaders = {
	'X-Glue-Authentication': '{"user":{"email":"gerardooscarjt@gmail.com","id":"user-0b654fad-8b74-4431-81d7-a016aa47e29e"}}',
};

document.getElementById('button_upload').addEventListener('click', function(e) {

	const formData = new FormData();

	const inputFiles = document.getElementById('input_files');

	for (const [i, file] of Array.from(inputFiles.files).entries()) {
		formData.append(`file_${i}`, file);
	}

	fetch('/v1/files', {method:'POST', body: formData, headers: fakeHeaders})
					.then(resp => resp.json())
					.then( p => {
						console.log("Finished!!", p)
					});

}, true);


</script>

</body>
</html>